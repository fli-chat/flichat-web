"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/chat/[roomId]/page",{

/***/ "(app-pages-browser)/./src/hooks/useStompChat.ts":
/*!***********************************!*\
  !*** ./src/hooks/useStompChat.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useStompChat)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _stomp_stompjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @stomp/stompjs */ \"(app-pages-browser)/./node_modules/@stomp/stompjs/esm6/client.js\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tanstack/react-query */ \"(app-pages-browser)/./node_modules/@tanstack/react-query/build/modern/useQuery.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/v4.js\");\n/* harmony import */ var _apis_user_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../apis/user.api */ \"(app-pages-browser)/./src/apis/user.api.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nfunction useStompChat(roomId, userId) {\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([\n        {\n            id: null,\n            message: '안녕하세요!',\n            profileColorType: 'BLUE',\n            roomId: String(roomId),\n            sender: 'Flichat Bot',\n            timeStamp: '2025-10-14T10:00:00.000Z',\n            userId,\n            clientMessageId: (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(),\n            optimistic: false\n        }\n    ]);\n    const clientRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const subRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // 간단한 중복 체크: clientMessageId → id\n    const hasMsg = (m)=>messages.some((x)=>m.clientMessageId && x.clientMessageId === m.clientMessageId || m.id && x.id === m.id);\n    const replaceOptimistic = (incoming)=>{\n        setMessages((prev)=>{\n            const idx = incoming.clientMessageId ? prev.findIndex((p)=>p.clientMessageId === incoming.clientMessageId) : -1;\n            if (idx >= 0) {\n                const next = [\n                    ...prev\n                ];\n                next[idx] = {\n                    ...next[idx],\n                    ...incoming,\n                    optimistic: false\n                };\n                return next;\n            }\n            // 없으면 신규 추가(중복만 피함)\n            if (hasMsg(incoming)) return prev;\n            return [\n                ...prev,\n                {\n                    ...incoming,\n                    optimistic: false\n                }\n            ];\n        });\n    };\n    const { data: userInfoData } = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_3__.useQuery)({\n        queryKey: [\n            'userInfo'\n        ],\n        queryFn: {\n            \"useStompChat.useQuery\": ()=>_apis_user_api__WEBPACK_IMPORTED_MODULE_1__.UserApi.getUser()\n        }[\"useStompChat.useQuery\"],\n        retry: false,\n        staleTime: Infinity,\n        refetchOnMount: false,\n        refetchOnWindowFocus: false\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useStompChat.useEffect\": ()=>{\n            const client = new _stomp_stompjs__WEBPACK_IMPORTED_MODULE_4__.Client({\n                brokerURL: 'wss://chat.flichat.co.kr/ws-chat',\n                reconnectDelay: 5000,\n                heartbeatIncoming: 10000,\n                heartbeatOutgoing: 10000\n            });\n            client.onConnect = ({\n                \"useStompChat.useEffect\": ()=>{\n                    subRef.current = client.subscribe(\"/topic/chat/room/\".concat(roomId), {\n                        \"useStompChat.useEffect\": (msg)=>{\n                            const payload = JSON.parse(msg.body);\n                            replaceOptimistic(payload);\n                        }\n                    }[\"useStompChat.useEffect\"]);\n                }\n            })[\"useStompChat.useEffect\"];\n            client.activate();\n            clientRef.current = client;\n            return ({\n                \"useStompChat.useEffect\": ()=>{\n                    var _subRef_current;\n                    (_subRef_current = subRef.current) === null || _subRef_current === void 0 ? void 0 : _subRef_current.unsubscribe();\n                    client.deactivate();\n                    clientRef.current = null;\n                }\n            })[\"useStompChat.useEffect\"];\n        }\n    }[\"useStompChat.useEffect\"], [\n        roomId\n    ]);\n    const sendMessage = (content)=>{\n        var _userInfoData_data, _userInfoData_data1;\n        const client = clientRef.current;\n        if (!(client === null || client === void 0 ? void 0 : client.connected)) return;\n        const clientMessageId = (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n        var _userInfoData_data_nickName, _userInfoData_data_profileColorType;\n        const optimistic = {\n            clientMessageId,\n            optimistic: true,\n            id: null,\n            userId,\n            sender: (_userInfoData_data_nickName = userInfoData === null || userInfoData === void 0 ? void 0 : (_userInfoData_data = userInfoData.data) === null || _userInfoData_data === void 0 ? void 0 : _userInfoData_data.nickName) !== null && _userInfoData_data_nickName !== void 0 ? _userInfoData_data_nickName : '',\n            profileColorType: (_userInfoData_data_profileColorType = userInfoData === null || userInfoData === void 0 ? void 0 : (_userInfoData_data1 = userInfoData.data) === null || _userInfoData_data1 === void 0 ? void 0 : _userInfoData_data1.profileColorType) !== null && _userInfoData_data_profileColorType !== void 0 ? _userInfoData_data_profileColorType : null,\n            roomId: String(roomId),\n            message: content,\n            timeStamp: new Date().toISOString()\n        };\n        // 낙관적 추가\n        setMessages((prev)=>[\n                ...prev,\n                optimistic\n            ]);\n        // 서버 전송(서버가 같은 clientMessageId를 되돌려주면 위 replaceOptimistic이 교체)\n        client.publish({\n            destination: '/send/chat/message',\n            body: JSON.stringify({\n                roomId: String(roomId),\n                userId,\n                message: content,\n                sender: optimistic.sender,\n                profileColorType: optimistic.profileColorType,\n                clientMessageId\n            })\n        });\n    };\n    // useCallback으로 감싸서 함수 참조 안정화\n    const mergeInitial = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useStompChat.useCallback[mergeInitial]\": (list)=>{\n            setMessages({\n                \"useStompChat.useCallback[mergeInitial]\": (prev)=>{\n                    if (!(list === null || list === void 0 ? void 0 : list.length)) return prev;\n                    const next = [\n                        ...prev\n                    ];\n                    list.forEach({\n                        \"useStompChat.useCallback[mergeInitial]\": (m)=>{\n                            if (!messages.some({\n                                \"useStompChat.useCallback[mergeInitial]\": (x)=>m.clientMessageId && x.clientMessageId === m.clientMessageId || m.id && x.id === m.id\n                            }[\"useStompChat.useCallback[mergeInitial]\"])) {\n                                next.push({\n                                    ...m,\n                                    optimistic: false\n                                });\n                            }\n                        }\n                    }[\"useStompChat.useCallback[mergeInitial]\"]);\n                    return next;\n                }\n            }[\"useStompChat.useCallback[mergeInitial]\"]);\n        }\n    }[\"useStompChat.useCallback[mergeInitial]\"], []); // 빈 의존성 배열\n    return {\n        messages,\n        sendMessage,\n        mergeInitial\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VTdG9tcENoYXQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs2REFFaUU7QUFDRDtBQUNmO0FBQ2I7QUFDTztBQVE1QixTQUFTUyxhQUFhQyxNQUFjLEVBQUVDLE1BQWM7SUFDakUsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUdYLCtDQUFRQSxDQUFXO1FBQ2pEO1lBQ0VZLElBQUk7WUFDSkMsU0FBUztZQUNUQyxrQkFBa0I7WUFDbEJOLFFBQVFPLE9BQU9QO1lBQ2ZRLFFBQVE7WUFDUkMsV0FBVztZQUNYUjtZQUNBUyxpQkFBaUJiLGdEQUFNQTtZQUN2QmMsWUFBWTtRQUNkO0tBQ0Q7SUFDRCxNQUFNQyxZQUFZckIsNkNBQU1BLENBQWdCO0lBQ3hDLE1BQU1zQixTQUFTdEIsNkNBQU1BLENBQTJCO0lBRWhELGtDQUFrQztJQUNsQyxNQUFNdUIsU0FBUyxDQUFDQyxJQUNkYixTQUFTYyxJQUFJLENBQ1gsQ0FBQ0MsSUFDQyxFQUFHUCxlQUFlLElBQUlPLEVBQUVQLGVBQWUsS0FBS0ssRUFBRUwsZUFBZSxJQUM1REssRUFBRVgsRUFBRSxJQUFJYSxFQUFFYixFQUFFLEtBQUtXLEVBQUVYLEVBQUU7SUFHNUIsTUFBTWMsb0JBQW9CLENBQUNDO1FBQ3pCaEIsWUFBWSxDQUFDaUI7WUFDWCxNQUFNQyxNQUFNRixTQUFTVCxlQUFlLEdBQ2hDVSxLQUFLRSxTQUFTLENBQUMsQ0FBQ0MsSUFBTUEsRUFBRWIsZUFBZSxLQUFLUyxTQUFTVCxlQUFlLElBQ3BFLENBQUM7WUFDTCxJQUFJVyxPQUFPLEdBQUc7Z0JBQ1osTUFBTUcsT0FBTzt1QkFBSUo7aUJBQUs7Z0JBQ3RCSSxJQUFJLENBQUNILElBQUksR0FBRztvQkFBRSxHQUFHRyxJQUFJLENBQUNILElBQUk7b0JBQUUsR0FBR0YsUUFBUTtvQkFBRVIsWUFBWTtnQkFBTTtnQkFDM0QsT0FBT2E7WUFDVDtZQUNBLG9CQUFvQjtZQUNwQixJQUFJVixPQUFPSyxX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QUlhLEVBQUViLEVBQUUsS0FBS1csRUFBRVgsRUFBRTswRUFBSTtnQ0FDbEhvQixLQUFLd0MsSUFBSSxDQUFDO29DQUFFLEdBQUdqRCxDQUFDO29DQUFFSixZQUFZO2dDQUFNOzRCQUN0Qzt3QkFDRjs7b0JBQ0EsT0FBT2E7Z0JBQ1Q7O1FBQ0Y7aURBQUcsRUFBRSxHQUFHLFdBQVc7SUFFbkIsT0FBTztRQUFFdEI7UUFBVWlEO1FBQWFTO0lBQWE7QUFDL0MiLCJzb3VyY2VzIjpbIi9Vc2Vycy9saWZlZGl2ZXJnZW5jZTEvRGVza3RvcC9mbGljaGF0LXdlYi9zcmMvaG9va3MvdXNlU3RvbXBDaGF0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENsaWVudCwgdHlwZSBTdG9tcFN1YnNjcmlwdGlvbiB9IGZyb20gJ0BzdG9tcC9zdG9tcGpzJztcbmltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSAnQHRhbnN0YWNrL3JlYWN0LXF1ZXJ5JztcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IHsgVXNlckFwaSB9IGZyb20gJy4uL2FwaXMvdXNlci5hcGknO1xuaW1wb3J0IHR5cGUgeyBDaGF0TWVzc2FnZSB9IGZyb20gJy4uL3R5cGUvY2hhdC50eXBlJztcblxudHlwZSBBbnlNc2cgPSBDaGF0TWVzc2FnZSAmIHtcbiAgY2xpZW50TWVzc2FnZUlkPzogc3RyaW5nO1xuICBvcHRpbWlzdGljPzogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVN0b21wQ2hhdChyb29tSWQ6IG51bWJlciwgdXNlcklkOiBzdHJpbmcpIHtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxBbnlNc2dbXT4oW1xuICAgIHtcbiAgICAgIGlkOiBudWxsLFxuICAgICAgbWVzc2FnZTogJ+yViOuFle2VmOyEuOyalCEnLFxuICAgICAgcHJvZmlsZUNvbG9yVHlwZTogJ0JMVUUnLFxuICAgICAgcm9vbUlkOiBTdHJpbmcocm9vbUlkKSxcbiAgICAgIHNlbmRlcjogJ0ZsaWNoYXQgQm90JyxcbiAgICAgIHRpbWVTdGFtcDogJzIwMjUtMTAtMTRUMTA6MDA6MDAuMDAwWicsXG4gICAgICB1c2VySWQsXG4gICAgICBjbGllbnRNZXNzYWdlSWQ6IHV1aWR2NCgpLFxuICAgICAgb3B0aW1pc3RpYzogZmFsc2UsXG4gICAgfVxuICBdKTtcbiAgY29uc3QgY2xpZW50UmVmID0gdXNlUmVmPENsaWVudCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBzdWJSZWYgPSB1c2VSZWY8U3RvbXBTdWJzY3JpcHRpb24gfCBudWxsPihudWxsKTtcblxuICAvLyDqsITri6jtlZwg7KSR67O1IOyytO2BrDogY2xpZW50TWVzc2FnZUlkIOKGkiBpZFxuICBjb25zdCBoYXNNc2cgPSAobTogUGFydGlhbDxBbnlNc2c+KSA9PlxuICAgIG1lc3NhZ2VzLnNvbWUoXG4gICAgICAoeCkgPT5cbiAgICAgICAgKG0uY2xpZW50TWVzc2FnZUlkICYmIHguY2xpZW50TWVzc2FnZUlkID09PSBtLmNsaWVudE1lc3NhZ2VJZCkgfHxcbiAgICAgICAgKG0uaWQgJiYgeC5pZCA9PT0gbS5pZClcbiAgICApO1xuXG4gIGNvbnN0IHJlcGxhY2VPcHRpbWlzdGljID0gKGluY29taW5nOiBBbnlNc2cpID0+IHtcbiAgICBzZXRNZXNzYWdlcygocHJldikgPT4ge1xuICAgICAgY29uc3QgaWR4ID0gaW5jb21pbmcuY2xpZW50TWVzc2FnZUlkXG4gICAgICAgID8gcHJldi5maW5kSW5kZXgoKHApID0+IHAuY2xpZW50TWVzc2FnZUlkID09PSBpbmNvbWluZy5jbGllbnRNZXNzYWdlSWQpXG4gICAgICAgIDogLTE7XG4gICAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2XTtcbiAgICAgICAgbmV4dFtpZHhdID0geyAuLi5uZXh0W2lkeF0sIC4uLmluY29taW5nLCBvcHRpbWlzdGljOiBmYWxzZSB9O1xuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgIH1cbiAgICAgIC8vIOyXhuycvOuptCDsi6Dqt5wg7LaU6rCAKOykkeuzteunjCDtlLztlagpXG4gICAgICBpZiAoaGFzTXNnKGluY29taW5nKSkgcmV0dXJuIHByZXY7XG4gICAgICByZXR1cm4gWy4uLnByZXYsIHsgLi4uaW5jb21pbmcsIG9wdGltaXN0aWM6IGZhbHNlIH1dO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHsgZGF0YTogdXNlckluZm9EYXRhIH0gPSB1c2VRdWVyeSh7XG4gICAgcXVlcnlLZXk6IFsndXNlckluZm8nXSxcbiAgICBxdWVyeUZuOiAoKSA9PiBVc2VyQXBpLmdldFVzZXIoKSxcbiAgICByZXRyeTogZmFsc2UsXG4gICAgc3RhbGVUaW1lOiBJbmZpbml0eSxcbiAgICByZWZldGNoT25Nb3VudDogZmFsc2UsXG4gICAgcmVmZXRjaE9uV2luZG93Rm9jdXM6IGZhbHNlLFxuICB9KTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNsaWVudCA9IG5ldyBDbGllbnQoe1xuICAgICAgYnJva2VyVVJMOiAnd3NzOi8vY2hhdC5mbGljaGF0LmNvLmtyL3dzLWNoYXQnLFxuICAgICAgcmVjb25uZWN0RGVsYXk6IDUwMDAsXG4gICAgICBoZWFydGJlYXRJbmNvbWluZzogMTAwMDAsXG4gICAgICBoZWFydGJlYXRPdXRnb2luZzogMTAwMDAsXG4gICAgfSk7XG5cbiAgICBjbGllbnQub25Db25uZWN0ID0gKCkgPT4ge1xuICAgICAgc3ViUmVmLmN1cnJlbnQgPSBjbGllbnQuc3Vic2NyaWJlKGAvdG9waWMvY2hhdC9yb29tLyR7cm9vbUlkfWAsIChtc2cpID0+IHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IEpTT04ucGFyc2UobXNnLmJvZHkpIGFzIEFueU1zZztcbiAgICAgICAgcmVwbGFjZU9wdGltaXN0aWMocGF5bG9hZCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY2xpZW50LmFjdGl2YXRlKCk7XG4gICAgY2xpZW50UmVmLmN1cnJlbnQgPSBjbGllbnQ7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc3ViUmVmLmN1cnJlbnQ/LnVuc3Vic2NyaWJlKCk7XG4gICAgICBjbGllbnQuZGVhY3RpdmF0ZSgpO1xuICAgICAgY2xpZW50UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH07XG4gIH0sIFtyb29tSWRdKTtcblxuICBjb25zdCBzZW5kTWVzc2FnZSA9IChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjbGllbnQgPSBjbGllbnRSZWYuY3VycmVudDtcbiAgICBpZiAoIWNsaWVudD8uY29ubmVjdGVkKSByZXR1cm47XG5cbiAgICBjb25zdCBjbGllbnRNZXNzYWdlSWQgPSB1dWlkdjQoKTtcbiAgICBjb25zdCBvcHRpbWlzdGljOiBBbnlNc2cgPSB7XG4gICAgICBjbGllbnRNZXNzYWdlSWQsXG4gICAgICBvcHRpbWlzdGljOiB0cnVlLFxuICAgICAgaWQ6IG51bGwsXG4gICAgICB1c2VySWQsXG4gICAgICBzZW5kZXI6IHVzZXJJbmZvRGF0YT8uZGF0YT8ubmlja05hbWUgPz8gJycsXG4gICAgICBwcm9maWxlQ29sb3JUeXBlOiB1c2VySW5mb0RhdGE/LmRhdGE/LnByb2ZpbGVDb2xvclR5cGUgPz8gbnVsbCxcbiAgICAgIHJvb21JZDogU3RyaW5nKHJvb21JZCksXG4gICAgICBtZXNzYWdlOiBjb250ZW50LFxuICAgICAgdGltZVN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgfTtcblxuICAgIC8vIOuCmeq0gOyggSDstpTqsIBcbiAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIG9wdGltaXN0aWNdKTtcblxuICAgIC8vIOyEnOuyhCDsoITshqEo7ISc67KE6rCAIOqwmeydgCBjbGllbnRNZXNzYWdlSWTrpbwg65CY64+M66Ck7KO866m0IOychCByZXBsYWNlT3B0aW1pc3RpY+ydtCDqtZDssrQpXG4gICAgY2xpZW50LnB1Ymxpc2goe1xuICAgICAgZGVzdGluYXRpb246ICcvc2VuZC9jaGF0L21lc3NhZ2UnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICByb29tSWQ6IFN0cmluZyhyb29tSWQpLFxuICAgICAgICB1c2VySWQsXG4gICAgICAgIG1lc3NhZ2U6IGNvbnRlbnQsXG4gICAgICAgIHNlbmRlcjogb3B0aW1pc3RpYy5zZW5kZXIsXG4gICAgICAgIHByb2ZpbGVDb2xvclR5cGU6IG9wdGltaXN0aWMucHJvZmlsZUNvbG9yVHlwZSxcbiAgICAgICAgY2xpZW50TWVzc2FnZUlkLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH07XG5cbiAgLy8gdXNlQ2FsbGJhY2vsnLzroZwg6rCQ7Iu47IScIO2VqOyImCDssLjsobAg7JWI7KCV7ZmUXG4gIGNvbnN0IG1lcmdlSW5pdGlhbCA9IHVzZUNhbGxiYWNrKChsaXN0OiBBbnlNc2dbXSkgPT4ge1xuICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiB7XG4gICAgICBpZiAoIWxpc3Q/Lmxlbmd0aCkgcmV0dXJuIHByZXY7XG4gICAgICBjb25zdCBuZXh0ID0gWy4uLnByZXZdO1xuICAgICAgbGlzdC5mb3JFYWNoKChtKSA9PiB7XG4gICAgICAgIGlmICghbWVzc2FnZXMuc29tZSh4ID0+IChtLmNsaWVudE1lc3NhZ2VJZCAmJiB4LmNsaWVudE1lc3NhZ2VJZCA9PT0gbS5jbGllbnRNZXNzYWdlSWQpIHx8IChtLmlkICYmIHguaWQgPT09IG0uaWQpKSkge1xuICAgICAgICAgIG5leHQucHVzaCh7IC4uLm0sIG9wdGltaXN0aWM6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0pO1xuICB9LCBbXSk7IC8vIOu5iCDsnZjsobTshLEg67Cw7Je0XG5cbiAgcmV0dXJuIHsgbWVzc2FnZXMsIHNlbmRNZXNzYWdlLCBtZXJnZUluaXRpYWwgfTtcbn0iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsIkNsaWVudCIsInVzZVF1ZXJ5IiwidjQiLCJ1dWlkdjQiLCJVc2VyQXBpIiwidXNlU3RvbXBDaGF0Iiwicm9vbUlkIiwidXNlcklkIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImlkIiwibWVzc2FnZSIsInByb2ZpbGVDb2xvclR5cGUiLCJTdHJpbmciLCJzZW5kZXIiLCJ0aW1lU3RhbXAiLCJjbGllbnRNZXNzYWdlSWQiLCJvcHRpbWlzdGljIiwiY2xpZW50UmVmIiwic3ViUmVmIiwiaGFzTXNnIiwibSIsInNvbWUiLCJ4IiwicmVwbGFjZU9wdGltaXN0aWMiLCJpbmNvbWluZyIsInByZXYiLCJpZHgiLCJmaW5kSW5kZXgiLCJwIiwibmV4dCIsImRhdGEiLCJ1c2VySW5mb0RhdGEiLCJxdWVyeUtleSIsInF1ZXJ5Rm4iLCJnZXRVc2VyIiwicmV0cnkiLCJzdGFsZVRpbWUiLCJJbmZpbml0eSIsInJlZmV0Y2hPbk1vdW50IiwicmVmZXRjaE9uV2luZG93Rm9jdXMiLCJjbGllbnQiLCJicm9rZXJVUkwiLCJyZWNvbm5lY3REZWxheSIsImhlYXJ0YmVhdEluY29taW5nIiwiaGVhcnRiZWF0T3V0Z29pbmciLCJvbkNvbm5lY3QiLCJjdXJyZW50Iiwic3Vic2NyaWJlIiwibXNnIiwicGF5bG9hZCIsIkpTT04iLCJwYXJzZSIsImJvZHkiLCJhY3RpdmF0ZSIsInVuc3Vic2NyaWJlIiwiZGVhY3RpdmF0ZSIsInNlbmRNZXNzYWdlIiwiY29udGVudCIsImNvbm5lY3RlZCIsIm5pY2tOYW1lIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwicHVibGlzaCIsImRlc3RpbmF0aW9uIiwic3RyaW5naWZ5IiwibWVyZ2VJbml0aWFsIiwibGlzdCIsImxlbmd0aCIsImZvckVhY2giLCJwdXNoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useStompChat.ts\n"));

/***/ })

});