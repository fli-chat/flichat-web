"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/chat/[roomId]/page",{

/***/ "(app-pages-browser)/./src/hooks/useStompChat.ts":
/*!***********************************!*\
  !*** ./src/hooks/useStompChat.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ useStompChat)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _stomp_stompjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @stomp/stompjs */ \"(app-pages-browser)/./node_modules/@stomp/stompjs/esm6/client.js\");\n/* harmony import */ var _tanstack_react_query__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tanstack/react-query */ \"(app-pages-browser)/./node_modules/@tanstack/react-query/build/modern/useQuery.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/v4.js\");\n/* harmony import */ var _apis_user_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../apis/user.api */ \"(app-pages-browser)/./src/apis/user.api.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nfunction useStompChat(roomId, userId) {\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([\n        {\n            id: null,\n            message: '안녕하세요!',\n            profileColorType: 'BLUE',\n            roomId: String(roomId),\n            sender: 'Flichat Bot',\n            timeStamp: String(new Date()),\n            userId,\n            clientMessageId: (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(),\n            optimistic: false\n        },\n        {\n            id: null,\n            message: '안녕하세요!',\n            profileColorType: 'BLUE',\n            roomId: String(roomId),\n            sender: 'Flichat Bot',\n            timeStamp: String(new Date()),\n            userId,\n            clientMessageId: (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(),\n            optimistic: false\n        }\n    ]);\n    const clientRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const subRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    // 간단한 중복 체크: clientMessageId → id\n    const hasMsg = (m)=>messages.some((x)=>m.clientMessageId && x.clientMessageId === m.clientMessageId || m.id && x.id === m.id);\n    const replaceOptimistic = (incoming)=>{\n        setMessages((prev)=>{\n            const idx = incoming.clientMessageId ? prev.findIndex((p)=>p.clientMessageId === incoming.clientMessageId) : -1;\n            if (idx >= 0) {\n                const next = [\n                    ...prev\n                ];\n                next[idx] = {\n                    ...next[idx],\n                    ...incoming,\n                    optimistic: false\n                };\n                return next;\n            }\n            // 없으면 신규 추가(중복만 피함)\n            if (hasMsg(incoming)) return prev;\n            return [\n                ...prev,\n                {\n                    ...incoming,\n                    optimistic: false\n                }\n            ];\n        });\n    };\n    const { data: userInfoData } = (0,_tanstack_react_query__WEBPACK_IMPORTED_MODULE_3__.useQuery)({\n        queryKey: [\n            'userInfo'\n        ],\n        queryFn: {\n            \"useStompChat.useQuery\": ()=>_apis_user_api__WEBPACK_IMPORTED_MODULE_1__.UserApi.getUser()\n        }[\"useStompChat.useQuery\"],\n        retry: false,\n        staleTime: Infinity,\n        refetchOnMount: false,\n        refetchOnWindowFocus: false\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useStompChat.useEffect\": ()=>{\n            const client = new _stomp_stompjs__WEBPACK_IMPORTED_MODULE_4__.Client({\n                brokerURL: 'wss://chat.flichat.co.kr/ws-chat',\n                reconnectDelay: 5000,\n                heartbeatIncoming: 10000,\n                heartbeatOutgoing: 10000\n            });\n            client.onConnect = ({\n                \"useStompChat.useEffect\": ()=>{\n                    subRef.current = client.subscribe(\"/topic/chat/room/\".concat(roomId), {\n                        \"useStompChat.useEffect\": (msg)=>{\n                            const payload = JSON.parse(msg.body);\n                            replaceOptimistic(payload);\n                        }\n                    }[\"useStompChat.useEffect\"]);\n                }\n            })[\"useStompChat.useEffect\"];\n            client.activate();\n            clientRef.current = client;\n            return ({\n                \"useStompChat.useEffect\": ()=>{\n                    var _subRef_current;\n                    (_subRef_current = subRef.current) === null || _subRef_current === void 0 ? void 0 : _subRef_current.unsubscribe();\n                    client.deactivate();\n                    clientRef.current = null;\n                }\n            })[\"useStompChat.useEffect\"];\n        }\n    }[\"useStompChat.useEffect\"], [\n        roomId\n    ]);\n    const sendMessage = (content)=>{\n        var _userInfoData_data, _userInfoData_data1;\n        const client = clientRef.current;\n        if (!(client === null || client === void 0 ? void 0 : client.connected)) return;\n        const clientMessageId = (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n        var _userInfoData_data_nickName, _userInfoData_data_profileColorType;\n        const optimistic = {\n            clientMessageId,\n            optimistic: true,\n            id: null,\n            userId,\n            sender: (_userInfoData_data_nickName = userInfoData === null || userInfoData === void 0 ? void 0 : (_userInfoData_data = userInfoData.data) === null || _userInfoData_data === void 0 ? void 0 : _userInfoData_data.nickName) !== null && _userInfoData_data_nickName !== void 0 ? _userInfoData_data_nickName : '',\n            profileColorType: (_userInfoData_data_profileColorType = userInfoData === null || userInfoData === void 0 ? void 0 : (_userInfoData_data1 = userInfoData.data) === null || _userInfoData_data1 === void 0 ? void 0 : _userInfoData_data1.profileColorType) !== null && _userInfoData_data_profileColorType !== void 0 ? _userInfoData_data_profileColorType : null,\n            roomId: String(roomId),\n            message: content,\n            timeStamp: new Date().toISOString()\n        };\n        // 낙관적 추가\n        setMessages((prev)=>[\n                ...prev,\n                optimistic\n            ]);\n        // 서버 전송(서버가 같은 clientMessageId를 되돌려주면 위 replaceOptimistic이 교체)\n        client.publish({\n            destination: '/send/chat/message',\n            body: JSON.stringify({\n                roomId: String(roomId),\n                userId,\n                message: content,\n                sender: optimistic.sender,\n                profileColorType: optimistic.profileColorType,\n                clientMessageId\n            })\n        });\n    };\n    // useCallback으로 감싸서 함수 참조 안정화\n    const mergeInitial = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useStompChat.useCallback[mergeInitial]\": (list)=>{\n            setMessages({\n                \"useStompChat.useCallback[mergeInitial]\": (prev)=>{\n                    if (!(list === null || list === void 0 ? void 0 : list.length)) return prev;\n                    const next = [\n                        ...prev\n                    ];\n                    list.forEach({\n                        \"useStompChat.useCallback[mergeInitial]\": (m)=>{\n                            if (!messages.some({\n                                \"useStompChat.useCallback[mergeInitial]\": (x)=>m.clientMessageId && x.clientMessageId === m.clientMessageId || m.id && x.id === m.id\n                            }[\"useStompChat.useCallback[mergeInitial]\"])) {\n                                next.push({\n                                    ...m,\n                                    optimistic: false\n                                });\n                            }\n                        }\n                    }[\"useStompChat.useCallback[mergeInitial]\"]);\n                    return next;\n                }\n            }[\"useStompChat.useCallback[mergeInitial]\"]);\n        }\n    }[\"useStompChat.useCallback[mergeInitial]\"], []); // 빈 의존성 배열\n    return {\n        messages,\n        sendMessage,\n        mergeInitial\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9ob29rcy91c2VTdG9tcENoYXQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs2REFFaUU7QUFDRDtBQUNmO0FBQ2I7QUFDTztBQVE1QixTQUFTUyxhQUFhQyxNQUFjLEVBQUVDLE1BQWM7SUFDakUsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUdYLCtDQUFRQSxDQUFXO1FBQ2pEO1lBQ0VZLElBQUk7WUFDSkMsU0FBUztZQUNUQyxrQkFBa0I7WUFDbEJOLFFBQVFPLE9BQU9QO1lBQ2ZRLFFBQVE7WUFDUkMsV0FBV0YsT0FBTyxJQUFJRztZQUN0QlQ7WUFDQVUsaUJBQWlCZCxnREFBTUE7WUFDdkJlLFlBQVk7UUFDZDtRQUNBO1lBQ0VSLElBQUk7WUFDSkMsU0FBUztZQUNUQyxrQkFBa0I7WUFDbEJOLFFBQVFPLE9BQU9QO1lBQ2ZRLFFBQVE7WUFDUkMsV0FBV0YsT0FBTyxJQUFJRztZQUN0QlQ7WUFDQVUsaUJBQWlCZCxnREFBTUE7WUFDdkJlLFlBQVk7UUFDZDtLQUVEO0lBQ0QsTUFBTUMsWUFBWXRCLDZDQUFNQSxDQUFnQjtJQUN4QyxNQUFNdUIsU0FBU3ZCLDZDQUFNQSxDQUEyQjtJQUVoRCxrQ0FBa0M7SUFDbEMsTUFBTXdCLFNBQVMsQ0FBQ0MsSUFDZGQsU0FBU2UsSUFBSSxDQUNYLENBQUNDLElBQ0MsRUFBR1AsZUFBZSxJQUFJTyxFQUFFUCxlQUFlLEtBQUtLLEVBQUVMLGVBQWUsSUFDNURLLEVBQUVaLEVBQUUsSUFBSWMsRUFBRWQsRUFBRSxLQUFLWSxFQUFFWixFQUFFO0lBRzVCLE1BQU1lLG9CQUFvQixDQUFDQztRQUN6QmpCLFlBQVksQ0FBQ2tCO1lBQ1gsTUFBTUMsTUFBTUYsU0FBU1QsZUFBZSxHQUNoQ1UsS0FBS0UsU0FBUyxDQUFDLENBQUNDLElBQU1BLEVBQUViLGVBQWUsS0FBS1MsU0FBU1QsZUFBZSxJQUNwRSxDQUFDO1lBQ0wsSUFBSVcsT0FBTyxHQUFHO2dCQUNaLE1BQU1HLE9BQU87dUJB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SjtxQkFBSztvQkFDdEJ3QyxLQUFLRSxPQUFPO2tFQUFDLENBQUMvQzs0QkFDWixJQUFJLENBQUNkLFNBQVNlLElBQUk7MEVBQUNDLENBQUFBLElBQUssRUFBR1AsZUFBZSxJQUFJTyxFQUFFUCxlQUFlLEtBQUtLLEVBQUVMLGVBQWUsSUFBTUssRUFBRVosRUFBRSxJQUFJYyxFQUFFZCxFQUFFLEtBQUtZLEVBQUVaLEVBQUU7MEVBQUk7Z0NBQ2xIcUIsS0FBS3VDLElBQUksQ0FBQztvQ0FBRSxHQUFHaEQsQ0FBQztvQ0FBRUosWUFBWTtnQ0FBTTs0QkFDdEM7d0JBQ0Y7O29CQUNBLE9BQU9hO2dCQUNUOztRQUNGO2lEQUFHLEVBQUUsR0FBRyxXQUFXO0lBRW5CLE9BQU87UUFBRXZCO1FBQVVrRDtRQUFhUTtJQUFhO0FBQy9DIiwic291cmNlcyI6WyIvVXNlcnMvbGlmZWRpdmVyZ2VuY2UxL0Rlc2t0b3AvZmxpY2hhdC13ZWIvc3JjL2hvb2tzL3VzZVN0b21wQ2hhdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDbGllbnQsIHR5cGUgU3RvbXBTdWJzY3JpcHRpb24gfSBmcm9tICdAc3RvbXAvc3RvbXBqcyc7XG5pbXBvcnQgeyB1c2VRdWVyeSB9IGZyb20gJ0B0YW5zdGFjay9yZWFjdC1xdWVyeSc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IFVzZXJBcGkgfSBmcm9tICcuLi9hcGlzL3VzZXIuYXBpJztcbmltcG9ydCB0eXBlIHsgQ2hhdE1lc3NhZ2UgfSBmcm9tICcuLi90eXBlL2NoYXQudHlwZSc7XG5cbnR5cGUgQW55TXNnID0gQ2hhdE1lc3NhZ2UgJiB7XG4gIGNsaWVudE1lc3NhZ2VJZD86IHN0cmluZztcbiAgb3B0aW1pc3RpYz86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VTdG9tcENoYXQocm9vbUlkOiBudW1iZXIsIHVzZXJJZDogc3RyaW5nKSB7XG4gIGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGU8QW55TXNnW10+KFtcbiAgICB7XG4gICAgICBpZDogbnVsbCxcbiAgICAgIG1lc3NhZ2U6ICfslYjrhZXtlZjshLjsmpQhJyxcbiAgICAgIHByb2ZpbGVDb2xvclR5cGU6ICdCTFVFJyxcbiAgICAgIHJvb21JZDogU3RyaW5nKHJvb21JZCksXG4gICAgICBzZW5kZXI6ICdGbGljaGF0IEJvdCcsXG4gICAgICB0aW1lU3RhbXA6IFN0cmluZyhuZXcgRGF0ZSgpKSxcbiAgICAgIHVzZXJJZCxcbiAgICAgIGNsaWVudE1lc3NhZ2VJZDogdXVpZHY0KCksXG4gICAgICBvcHRpbWlzdGljOiBmYWxzZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBudWxsLFxuICAgICAgbWVzc2FnZTogJ+yViOuFle2VmOyEuOyalCEnLFxuICAgICAgcHJvZmlsZUNvbG9yVHlwZTogJ0JMVUUnLFxuICAgICAgcm9vbUlkOiBTdHJpbmcocm9vbUlkKSxcbiAgICAgIHNlbmRlcjogJ0ZsaWNoYXQgQm90JyxcbiAgICAgIHRpbWVTdGFtcDogU3RyaW5nKG5ldyBEYXRlKCkpLFxuICAgICAgdXNlcklkLFxuICAgICAgY2xpZW50TWVzc2FnZUlkOiB1dWlkdjQoKSxcbiAgICAgIG9wdGltaXN0aWM6IGZhbHNlLFxuICAgIH1cbiAgICBcbiAgXSk7XG4gIGNvbnN0IGNsaWVudFJlZiA9IHVzZVJlZjxDbGllbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3Qgc3ViUmVmID0gdXNlUmVmPFN0b21wU3Vic2NyaXB0aW9uIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8g6rCE64uo7ZWcIOykkeuztSDssrTtgaw6IGNsaWVudE1lc3NhZ2VJZCDihpIgaWRcbiAgY29uc3QgaGFzTXNnID0gKG06IFBhcnRpYWw8QW55TXNnPikgPT5cbiAgICBtZXNzYWdlcy5zb21lKFxuICAgICAgKHgpID0+XG4gICAgICAgIChtLmNsaWVudE1lc3NhZ2VJZCAmJiB4LmNsaWVudE1lc3NhZ2VJZCA9PT0gbS5jbGllbnRNZXNzYWdlSWQpIHx8XG4gICAgICAgIChtLmlkICYmIHguaWQgPT09IG0uaWQpXG4gICAgKTtcblxuICBjb25zdCByZXBsYWNlT3B0aW1pc3RpYyA9IChpbmNvbWluZzogQW55TXNnKSA9PiB7XG4gICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IGlkeCA9IGluY29taW5nLmNsaWVudE1lc3NhZ2VJZFxuICAgICAgICA/IHByZXYuZmluZEluZGV4KChwKSA9PiBwLmNsaWVudE1lc3NhZ2VJZCA9PT0gaW5jb21pbmcuY2xpZW50TWVzc2FnZUlkKVxuICAgICAgICA6IC0xO1xuICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgIGNvbnN0IG5leHQgPSBbLi4ucHJldl07XG4gICAgICAgIG5leHRbaWR4XSA9IHsgLi4ubmV4dFtpZHhdLCAuLi5pbmNvbWluZywgb3B0aW1pc3RpYzogZmFsc2UgfTtcbiAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICB9XG4gICAgICAvLyDsl4bsnLzrqbQg7Iug6recIOy2lOqwgCjspJHrs7Xrp4wg7ZS87ZWoKVxuICAgICAgaWYgKGhhc01zZyhpbmNvbWluZykpIHJldHVybiBwcmV2O1xuICAgICAgcmV0dXJuIFsuLi5wcmV2LCB7IC4uLmluY29taW5nLCBvcHRpbWlzdGljOiBmYWxzZSB9XTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCB7IGRhdGE6IHVzZXJJbmZvRGF0YSB9ID0gdXNlUXVlcnkoe1xuICAgIHF1ZXJ5S2V5OiBbJ3VzZXJJbmZvJ10sXG4gICAgcXVlcnlGbjogKCkgPT4gVXNlckFwaS5nZXRVc2VyKCksXG4gICAgcmV0cnk6IGZhbHNlLFxuICAgIHN0YWxlVGltZTogSW5maW5pdHksXG4gICAgcmVmZXRjaE9uTW91bnQ6IGZhbHNlLFxuICAgIHJlZmV0Y2hPbldpbmRvd0ZvY3VzOiBmYWxzZSxcbiAgfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjbGllbnQgPSBuZXcgQ2xpZW50KHtcbiAgICAgIGJyb2tlclVSTDogJ3dzczovL2NoYXQuZmxpY2hhdC5jby5rci93cy1jaGF0JyxcbiAgICAgIHJlY29ubmVjdERlbGF5OiA1MDAwLFxuICAgICAgaGVhcnRiZWF0SW5jb21pbmc6IDEwMDAwLFxuICAgICAgaGVhcnRiZWF0T3V0Z29pbmc6IDEwMDAwLFxuICAgIH0pO1xuXG4gICAgY2xpZW50Lm9uQ29ubmVjdCA9ICgpID0+IHtcbiAgICAgIHN1YlJlZi5jdXJyZW50ID0gY2xpZW50LnN1YnNjcmliZShgL3RvcGljL2NoYXQvcm9vbS8ke3Jvb21JZH1gLCAobXNnKSA9PiB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnBhcnNlKG1zZy5ib2R5KSBhcyBBbnlNc2c7XG4gICAgICAgIHJlcGxhY2VPcHRpbWlzdGljKHBheWxvYWQpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNsaWVudC5hY3RpdmF0ZSgpO1xuICAgIGNsaWVudFJlZi5jdXJyZW50ID0gY2xpZW50O1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHN1YlJlZi5jdXJyZW50Py51bnN1YnNjcmliZSgpO1xuICAgICAgY2xpZW50LmRlYWN0aXZhdGUoKTtcbiAgICAgIGNsaWVudFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9O1xuICB9LCBbcm9vbUlkXSk7XG5cbiAgY29uc3Qgc2VuZE1lc3NhZ2UgPSAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY2xpZW50ID0gY2xpZW50UmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFjbGllbnQ/LmNvbm5lY3RlZCkgcmV0dXJuO1xuXG4gICAgY29uc3QgY2xpZW50TWVzc2FnZUlkID0gdXVpZHY0KCk7XG4gICAgY29uc3Qgb3B0aW1pc3RpYzogQW55TXNnID0ge1xuICAgICAgY2xpZW50TWVzc2FnZUlkLFxuICAgICAgb3B0aW1pc3RpYzogdHJ1ZSxcbiAgICAgIGlkOiBudWxsLFxuICAgICAgdXNlcklkLFxuICAgICAgc2VuZGVyOiB1c2VySW5mb0RhdGE/LmRhdGE/Lm5pY2tOYW1lID8/ICcnLFxuICAgICAgcHJvZmlsZUNvbG9yVHlwZTogdXNlckluZm9EYXRhPy5kYXRhPy5wcm9maWxlQ29sb3JUeXBlID8/IG51bGwsXG4gICAgICByb29tSWQ6IFN0cmluZyhyb29tSWQpLFxuICAgICAgbWVzc2FnZTogY29udGVudCxcbiAgICAgIHRpbWVTdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIH07XG5cbiAgICAvLyDrgpnqtIDsoIEg7LaU6rCAXG4gICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCBvcHRpbWlzdGljXSk7XG5cbiAgICAvLyDshJzrsoQg7KCE7IahKOyEnOuyhOqwgCDqsJnsnYAgY2xpZW50TWVzc2FnZUlk66W8IOuQmOuPjOugpOyjvOuptCDsnIQgcmVwbGFjZU9wdGltaXN0aWPsnbQg6rWQ7LK0KVxuICAgIGNsaWVudC5wdWJsaXNoKHtcbiAgICAgIGRlc3RpbmF0aW9uOiAnL3NlbmQvY2hhdC9tZXNzYWdlJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgcm9vbUlkOiBTdHJpbmcocm9vbUlkKSxcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBtZXNzYWdlOiBjb250ZW50LFxuICAgICAgICBzZW5kZXI6IG9wdGltaXN0aWMuc2VuZGVyLFxuICAgICAgICBwcm9maWxlQ29sb3JUeXBlOiBvcHRpbWlzdGljLnByb2ZpbGVDb2xvclR5cGUsXG4gICAgICAgIGNsaWVudE1lc3NhZ2VJZCxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9O1xuXG4gIC8vIHVzZUNhbGxiYWNr7Jy866GcIOqwkOyLuOyEnCDtlajsiJgg7LC47KGwIOyViOygle2ZlFxuICBjb25zdCBtZXJnZUluaXRpYWwgPSB1c2VDYWxsYmFjaygobGlzdDogQW55TXNnW10pID0+IHtcbiAgICBzZXRNZXNzYWdlcygocHJldikgPT4ge1xuICAgICAgaWYgKCFsaXN0Py5sZW5ndGgpIHJldHVybiBwcmV2O1xuICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2XTtcbiAgICAgIGxpc3QuZm9yRWFjaCgobSkgPT4ge1xuICAgICAgICBpZiAoIW1lc3NhZ2VzLnNvbWUoeCA9PiAobS5jbGllbnRNZXNzYWdlSWQgJiYgeC5jbGllbnRNZXNzYWdlSWQgPT09IG0uY2xpZW50TWVzc2FnZUlkKSB8fCAobS5pZCAmJiB4LmlkID09PSBtLmlkKSkpIHtcbiAgICAgICAgICBuZXh0LnB1c2goeyAuLi5tLCBvcHRpbWlzdGljOiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9KTtcbiAgfSwgW10pOyAvLyDruYgg7J2Y7KG07ISxIOuwsOyXtFxuXG4gIHJldHVybiB7IG1lc3NhZ2VzLCBzZW5kTWVzc2FnZSwgbWVyZ2VJbml0aWFsIH07XG59Il0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJDbGllbnQiLCJ1c2VRdWVyeSIsInY0IiwidXVpZHY0IiwiVXNlckFwaSIsInVzZVN0b21wQ2hhdCIsInJvb21JZCIsInVzZXJJZCIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJpZCIsIm1lc3NhZ2UiLCJwcm9maWxlQ29sb3JUeXBlIiwiU3RyaW5nIiwic2VuZGVyIiwidGltZVN0YW1wIiwiRGF0ZSIsImNsaWVudE1lc3NhZ2VJZCIsIm9wdGltaXN0aWMiLCJjbGllbnRSZWYiLCJzdWJSZWYiLCJoYXNNc2ciLCJtIiwic29tZSIsIngiLCJyZXBsYWNlT3B0aW1pc3RpYyIsImluY29taW5nIiwicHJldiIsImlkeCIsImZpbmRJbmRleCIsInAiLCJuZXh0IiwiZGF0YSIsInVzZXJJbmZvRGF0YSIsInF1ZXJ5S2V5IiwicXVlcnlGbiIsImdldFVzZXIiLCJyZXRyeSIsInN0YWxlVGltZSIsIkluZmluaXR5IiwicmVmZXRjaE9uTW91bnQiLCJyZWZldGNoT25XaW5kb3dGb2N1cyIsImNsaWVudCIsImJyb2tlclVSTCIsInJlY29ubmVjdERlbGF5IiwiaGVhcnRiZWF0SW5jb21pbmciLCJoZWFydGJlYXRPdXRnb2luZyIsIm9uQ29ubmVjdCIsImN1cnJlbnQiLCJzdWJzY3JpYmUiLCJtc2ciLCJwYXlsb2FkIiwiSlNPTiIsInBhcnNlIiwiYm9keSIsImFjdGl2YXRlIiwidW5zdWJzY3JpYmUiLCJkZWFjdGl2YXRlIiwic2VuZE1lc3NhZ2UiLCJjb250ZW50IiwiY29ubmVjdGVkIiwibmlja05hbWUiLCJ0b0lTT1N0cmluZyIsInB1Ymxpc2giLCJkZXN0aW5hdGlvbiIsInN0cmluZ2lmeSIsIm1lcmdlSW5pdGlhbCIsImxpc3QiLCJsZW5ndGgiLCJmb3JFYWNoIiwicHVzaCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/hooks/useStompChat.ts\n"));

/***/ })

});